{% extends 'groceryapp/base.html' %} {% load static %} {% block body %}

<div class="container">
  <div class="row mt-5 align-items-center">
    <div class="col-md-4">
      <h1 class="fw-bold">Recipes</h1>
    </div>

    <div class="col-md-4">
      <!-- Enhanced search form with autocomplete -->
      <form action="" method="get" class="d-flex">
        <input
          type="search"
          name="recipe_name"
          class="form-control me-2 rounded-pill border-0"
          placeholder="Search Recipes"
          aria-label="Search"
          {%
          if
          request.GET.recipe_name
          %}
          value="{{ request.GET.recipe_name }}"
          {%
          endif
          %}
          data-autocomplete-source="/path/to/autocomplete/api/"
        />
        <button type="submit" class="btn btn-primary rounded-pill">
          <i class="fas fa-search"></i>
        </button>
      </form>
    </div>

    <div class="col-md-2">
      <!-- Filter form with visual feedback -->
      <form action="{% url 'filter_recipes' %}" method="post" class="d-inline">
        {% csrf_token %}
        <button
          type="submit"
          class="btn btn-outline-primary rounded-pill btn"
        >
          <i class="fas fa-sort"></i> Ingredients
        </button>
      </form>
    </div>

    <div class="col-md-2 text-end">
      <a href="{% url 'addRecipe' %}" class="btn btn-primary rounded-pill"
        >+ Add Recipe</a
      >
    </div>
  </div>

  <div
    class="row row-cols-1 row-cols-md-3 mt-2 gap-4 container-fluid justify-content-center"
  >
    {% for recipe in recipes %}
    <div class="recipe-card col shadow">
      <a
        href="{% url 'recipe_detail' recipe.id %}"
        class="text-decoration-none"
      >
        <aside>
          <img src="{{recipe.image}}" />
        </aside>
        <article>
          <h2>{{ recipe.name }}</h2>
          <div>
            <h3 class="mt-2">{{ recipe.mealtype }}</h3>
            <h3 class="mt-2">{{ recipe.cuisine }}</h3>
          </div>
          <ul class="py-2">
            <li>
              <i class="fas fa-user" style="color: #ffa792"></i>
              <!-- Darker color from gradient for portions icon -->
              <span style="color: #ffa792">{{ recipe.portions }}</span>
              <!-- Darker color from gradient for portions span -->
            </li>
            <li>
              <i class="fas fa-clock" style="color: #ffa792"></i>
              <!-- Darker color from gradient for time icon -->
              <span style="color: #ffa792">{{ recipe.time }}</span>
              <!-- Darker color from gradient for time span -->
            </li>
            <li>
              <i class="fas fa-list" style="color: #ffa792"></i>
              <!-- Darker color from gradient for ingredient count icon -->
              <span style="color: #ffa792">{{ recipe.ingredients.count }}</span>
              <!-- Darker color from gradient for ingredient count span -->
            </li>
          </ul>
          <p>{{ recipe.description }}</p>
        </article>
      </a>
    </div>
    {% endfor %}
  </div>
</div>

{% endblock %}
